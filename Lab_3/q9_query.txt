print(JSON.stringify(db.sales.aggregate([{$match: {"saleDate": { $gte: ISODate("2015-01-01T00:00:00Z") }, "customer.satisfaction": { $exists: true }}},{$group: { _id: "$purchaseMethod", avg_satisfaction: { $avg: "$customer.satisfaction" }, n: { $sum: 1 }}},{$project: {  _id: 0,purchaseMethod: "$_id", avg_satisfaction: { $round: ["$avg_satisfaction", 2] },  n: 1}},{ $sort: { avg_satisfaction: -1, purchaseMethod: 1 } }]).toArray()));
